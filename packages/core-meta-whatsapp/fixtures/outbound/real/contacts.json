{
  "$schema": "../../src/schemas/outbound-intent.json",
  "$description": "Valid contacts message outbound intent fixture",
  "intent": {
    "intentId": "01H5EXAMPLE-CONTACTS-INT-123456",
    "tenantId": "tenant_test_001",
    "provider": "whatsapp",
    "to": "+15551234567",
    "payload": {
      "type": "contacts",
      "contacts": [
        {
          "name": {
            "formatted_name": "John Doe"
          },
          "phones": [
            { "phone": "+15559876543", "type": "WORK" }
          ],
          "emails": [
            { "email": "john.doe@example.com", "type": "WORK" }
          ]
        }
      ]
    },
    "dedupeKey": "whatsapp:tenant:tenant_test_001:intent:01H5EXAMPLE-CONTACTS-INT-123456",
    "correlationId": "corr_contacts_001",
    "createdAt": "2024-01-15T10:33:00.000Z"
  },
  "expectedApiPayload": {
    "messaging_product": "whatsapp",
    "to": "+15551234567",
    "type": "contacts",
    "contacts": [
      {
        "name": { "formatted_name": "John Doe" },
        "phones": [{ "phone": "+15559876543", "type": "WORK" }],
        "emails": [{ "email": "john.doe@example.com", "type": "WORK" }]
      }
    ],
    "client_msg_id": "01H5EXAMPLE-CONTACTS-INT-123456"
  },
  "expectedResponse": {
    "messaging_product": "whatsapp",
    "contacts": [{ "input": "+15551234567", "wa_id": "15551234567" }],
    "messages": [{ "id": "wamid.HBgLMTU1NTEyMzQ1NjcVAgARGBI5QUZGQUQ1MTJCMTQ1NjdGNUQA" }]
  }
}
